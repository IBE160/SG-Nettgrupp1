Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
2CartContext.jsx:31 [CartContext] Initial load. Stored cartId: null
CartContext.jsx:62 [CartContext] No cartId found, creating a new one.
CartContext.jsx:39 [CartContext] Creating a new cart...
:5173/api/cart:1 
        
        
       Failed to load resource: the server responded with a status of 400 (Bad Request)
CartContext.jsx:55 [CartContext] Error in createCart: Error: Failed to create cart
    at createCart (CartContext.jsx:45:15)
    at async addToCart (CartContext.jsx:63:23)
createCart @ CartContext.jsx:55
CartContext.jsx:66 [CartContext] Adding to cart undefined: productId=7f29fd2c-643e-4100-a22a-a0e60e71d4f0, quantity=1
:5173/api/cart/undefined/items:1 
        
        
       Failed to load resource: the server responded with a status of 400 (Bad Request)
CartContext.jsx:76 [CartContext] addToCart response status: 400
CartContext.jsx:79 [CartContext] addToCart API error: Object
addToCart @ CartContext.jsx:79
CartContext.jsx:88 [CartContext] Error in addToCart: Error: Could not find the table 'public.cart_items' in the schema cache
    at addToCart (CartContext.jsx:80:15)
addToCart @ CartContext.jsx:88
CartContext.jsx:62 [CartContext] No cartId found, creating a new one.
CartContext.jsx:39 [CartContext] Creating a new cart...
CartContext.jsx:62 [CartContext] No cartId found, creating a new one.
CartContext.jsx:39 [CartContext] Creating a new cart...
:5173/api/cart:1 
        
        
       Failed to load resource: the server responded with a status of 400 (Bad Request)
CartContext.jsx:55 [CartContext] Error in createCart: Error: Failed to create cart
    at createCart (CartContext.jsx:45:15)
    at async addToCart (CartContext.jsx:63:23)
createCart @ CartContext.jsx:55
CartContext.jsx:66 [CartContext] Adding to cart undefined: productId=7f29fd2c-643e-4100-a22a-a0e60e71d4f0, quantity=1
:5173/api/cart:1 
        
        
       Failed to load resource: the server responded with a status of 400 (Bad Request)
CartContext.jsx:55 [CartContext] Error in createCart: Error: Failed to create cart
    at createCart (CartContext.jsx:45:15)
    at async addToCart (CartContext.jsx:63:23)
createCart @ CartContext.jsx:55
CartContext.jsx:66 [CartContext] Adding to cart undefined: productId=7f29fd2c-643e-4100-a22a-a0e60e71d4f0, quantity=1
:5173/api/cart/undefined/items:1 
        
        
       Failed to load resource: the server responded with a status of 400 (Bad Request)
CartContext.jsx:76 [CartContext] addToCart response status: 400
CartContext.jsx:79 [CartContext] addToCart API error: Object
addToCart @ CartContext.jsx:79
CartContext.jsx:88 [CartContext] Error in addToCart: Error: Could not find the table 'public.cart_items' in the schema cache
    at addToCart (CartContext.jsx:80:15)
addToCart @ CartContext.jsx:88
:5173/api/cart/undefined/items:1 
        
        
       Failed to load resource: the server responded with a status of 400 (Bad Request)
CartContext.jsx:76 [CartContext] addToCart response status: 400
CartContext.jsx:79 [CartContext] addToCart API error: Object
addToCart @ CartContext.jsx:79
CartContext.jsx:88 [CartContext] Error in addToCart: Error: Could not find the table 'public.cart_items' in the schema cache
    at addToCart (CartContext.jsx:80:15)
addToCart @ CartContext.jsx:88



    1 -- Create the carts table
    2 CREATE TABLE carts (
    3     id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    4     created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc' 
      ::text, now()) NOT NULL
    5 );
    6 
    7 -- Create the cart_items table
    8 CREATE TABLE cart_items (
    9     id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,    
   10     cart_id UUID REFERENCES carts(id) ON DELETE CASCADE NOT NUL   11     product_id BIGINT REFERENCES products(id) ON DELETE CASCADE      NOT NULL,
   12     quantity INT NOT NULL,
   13     created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc' 
      ::text, now()) NOT NULL,
   14     UNIQUE(cart_id, product_id)
   15 );