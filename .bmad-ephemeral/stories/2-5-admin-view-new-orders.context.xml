<story-context id=".bmad/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>2</epicId>
    <storyId>2.5</storyId>
    <title>Admin View New Orders</title>
    <status>Draft</status>
    <generatedAt>2025-11-20</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>.bmad-ephemeral/stories/2-5-admin-view-new-orders.md</sourceStoryPath>
  </metadata>
  <story>
    <asA>a Business Owner</asA>
    <iWant>to view a list of all incoming and pending orders</iWant>
    <soThat>I can manage my workload and prepare orders for pickup</soThat>
    <tasks>
        <task id="1">Backend API for Fetching Orders</task>
        <task id="2">Frontend Admin Dashboard UI</task>
        <task id="3">Order Detail View</task>
    </tasks>
  </story>
  <acceptanceCriteria>
      <criterion id="1">The admin dashboard includes a section or list displaying new orders.</criterion>
      <criterion id="2">Each order entry shows key details (e.g., reference number, customer email, order date, status).</criterion>
      <criterion id="3">I can click on an order to view its full details, including ordered items and quantities (FR010).</criterion>
  </acceptanceCriteria>
  <artifacts>
    <code>
        <file path="src/pages/AdminDashboard.jsx" kind="modified-component" reason="Will be modified to add an 'Orders' tab and fetch/display orders."/>
        <file path="src/pages/AdminOrderDetailPage.jsx" kind="new-component" reason="A new page to show the details of a single order."/>
        <file path="api/controllers/orders.js" kind="modified-controller" reason="Will be modified to add GET handlers for all orders and a single order."/>
    </code>
    <dependencies/>
  </artifacts>
  <constraints/>
  <interfaces>
      <interface name="GET /api/orders" kind="REST endpoint" signature="GET /api/orders" path="api/routes/orders.js" reason="To get a list of all orders for the admin."/>
      <interface name="GET /api/orders/:id" kind="REST endpoint" signature="GET /api/orders/:id" path="api/routes/orders.js" reason="To get the details of a specific order."/>
  </interfaces>
  <tests>
    <ideas>
      <idea ac_id="1-3">Write an E2E test where the admin logs in, navigates to the orders tab, and verifies that a test order (created via API seeding) is visible and clickable.</idea>
    </ideas>
  </tests>
</story-context>
